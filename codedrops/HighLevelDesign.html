<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>High-Level Design for Hierarchical CodeDrops</title>
</head>
<body>

    <div class="section" id="requirements">
        <h2>Requirements</h2>
        <ul>
            <li>Define functionalities for extracting code sections into parts.</li>
            <li>Compose code sections back into logical groups.</li>
            <li>Allow constructing a full CodeDrop from parts.</li>
            <li>Enable decomposition of composed units into parts.</li>
        </ul>
    </div>

    <div class="section" id="design">
        <h2>Design</h2>

        <div class="subsection" id="section-extraction">
            <h3>SectionExtraction</h3>
            <ul>
                <li>Parse CodeDrop documents and separate sections based on types.</li>
                <li>Store each section in organized files.</li>
                <li>Ensure all section types are covered (Requirements, Design, Implementation, etc.).</li>
            </ul>
        </div>

        <div class="subsection" id="unit-composition">
            <h3>UnitComposition</h3>
            <ul>
                <li>Collect related sections/files and combine them into larger units.</li>
                <li>Support logical grouping such as classes or modules.</li>
                <li>Maintain dependencies and proper ordering.</li>
            </ul>
        </div>

        <div class="subsection" id="code-drop-construction">
            <h3>CodeDropConstruction</h3>
            <ul>
                <li>Assemble extracted parts back into a comprehensive CodeDrop.</li>
                <li>Restore original section orders and formatting.</li>
                <li>Provide options for customization during construction.</li>
            </ul>
        </div>

        <div class="subsection" id="unit-decomposition">
            <h3>UnitDecomposition</h3>
            <ul>
                <li>Break down composed units into smaller parts/files.</li>
                <li>Identify logical subdivisions such as methods, attributes, etc.</li>
                <li>Support reusability and modular design principles.</li>
            </ul>
        </div>

    </div>

    <div class="section" id="documentation">
        <h2>Transformation Mapping and Flow</h2>
        <ol>
            <li><strong>SectionExtraction:</strong> Extract sections from a CodeDrop → Output as files organized by section type.</li>
            <li><strong>UnitComposition:</strong> Combine related files into modules/classes → Formulate cohesive units ready for execution.</li>
            <li><strong>CodeDropConstruction:</strong> Reconstruct a CodeDrop from individual files → Achieve a complete, integrated document.</li>
            <li><strong>UnitDecomposition:</strong> Divide units into smaller functional segments → Generate fine-grained components available for reuse.</li>
        </ol>
    </div>

        <h2>Decomposer</h2>
    <p>
    The Decomposer is a critical component of the CodeDrops methodology, designed to analyze existing software that was not originally composed from CodeDrops. By leveraging AI, the Decomposer can break down complex codebases into self-contained CodeDrops, each representing a horizontal slice or vertical segment of the software.
    </p>

    <h3>Motivation</h3>
    <p>
    One of the primary motivations for CodeDrops is to enable AI to assist with all aspects of a specific slice or segment of complex software without becoming overwhelmed by unnecessary details. The Decomposer plays a key role in achieving this by:
    </p>
    <ul>
      <li>Analyzing existing code to identify functional units, dependencies, and relationships.</li>
      <li>Extracting requirements, design, implementation, and testing information from the code.</li>
      <li>Creating self-contained CodeDrops that are easy to understand, test, and maintain.</li>
    </ul>

    <h3>AI Integration</h3>
    <p>
    The Decomposer uses AI to:
    </p>
    <ul>
      <li>Understand the structure and purpose of existing code.</li>
      <li>Generate documentation, design diagrams, and test cases for extracted CodeDrops.</li>
      <li>Identify potential improvements, such as refactoring opportunities or missing tests.</li>
    </ul>

    <h3>Example Use Case</h3>
    <p>
    An example of using AI to decompose the <code>extractor.py</code> file is available in the <code>codedrops/extractor/</code> directory. This demonstrates how the Decomposer can analyze a file, extract its components, and generate a corresponding CodeDrop.
    </p>

    <h3>Future Potential</h3>
    <p>
    The Decomposer not only helps with legacy code but also ensures that CodeDrops remain a powerful tool for AI-driven software development. By maintaining a clear and modular structure, CodeDrops enable AI to focus on specific tasks without getting lost in the complexity of the entire system.
    </p>

</body>
</html>
